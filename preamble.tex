%%% PDF settings
\pdfvariable minorversion 7 % Set PDF version to 1.7.

%%% Fonts and language setup.
\usepackage{polyglossia}
% Setup fonts.
\usepackage{fontspec}
\setmainfont{CMU Serif}

\usepackage{microtype} % Add fancy-schmancy font tricks.
\usepackage{multicol}

\usepackage{xcolor} % Add colors support.

%% Math
\usepackage{amsmath, amsfonts, amssymb, amsthm, mathtools} % Advanced math tools.
\usepackage{unicode-math} % Allow TTF and OTF fonts in math and allow direct typing unicode math characters.
\unimathsetup{
    warnings-off={
            mathtools-colon,
            mathtools-overbracket
        }
}
\setmathfont{Latin Modern Math} % default
\setmathfont[range={\setminus,\varnothing}]{Asana Math}

%%% Images
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{wrapfig} % Floating images.

%%% Bibtex
\usepackage[style=gost-inline,
    language=auto]{biblatex}

%%% Polyglossia setup after (nearly) everything as described in documentation.
\setdefaultlanguage{russian}
\setotherlanguage{english}


%%% Custom commands
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\zv}{\mathbf{0}}
\newcommand{\LNZ}{\mathop{\mathrm{ЛНЗ}}}
\newcommand{\LZ}{\mathop{\mathrm{ЛЗ}}}
\newcommand{\LK}{\mathop{\mathrm{ЛК}}}
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand*{\&}{%
    \relax
    \ifmmode
        \mathbin{\char`\&}%
    \else
        \char`\&\relax
    \fi
}

%%% amsthm envs
\theoremstyle{plain}
\newtheorem{assertion}{Утверждение}
\newtheorem{theorem}{Теорема}
\newtheorem{lemma}{Лемма}
\theoremstyle{definition}
\newtheorem{definition}{Определение}
\newtheorem{term}{Термин}
\newtheorem{prop}{Свойство}
\newtheorem{axiom}{Аксиома}
\theoremstyle{remark}
\newtheorem*{example}{Пример}
\renewcommand{\qedsymbol}{\blacksquare}
%%% Memoir settings
\chapterstyle{veelo}

%%% HyperRef
\usepackage{hyperref}