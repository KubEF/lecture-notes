% !TeX root = ./main.tex
\documentclass[main]{subfiles}
\begin{document}
\chapter{Первая квадратичная форма}
Есть кривая на поверхности. Как сосчитать ее длину?
Пусть кривая задана регулярной параметризацией:
\[\vf(u,v) = (x(u,v), y(u,v), z(u,v))\]
и $u = u(t), v = v(t)$.
Чему равна длина от $t_0$ до $t_1$?

\begin{gather*}
    \frac{d\vf}{dt} = (x_u' u' + x_v' v', y_u' u' + y_v' v', z_u' u' + z_v' v') = \vf_u' u' + \vf_v' v'\\
    \left| \frac{d\vf}{dt} \right| = \sqrt{(\vf_u' u' + \vf_v' v') \cdot (\vf_u' u' + \vf_v' v')} = \sqrt{\vf_u'^2 u'^2 + 2 \vf_u'\vf_v' u'v' + \vf_v'^2 v'^2}
\end{gather*}
Заметим, что $\vf_u'^2$ не зависит от прямой и зависит только от поверхности.
Обозначим $E \coloneqq \vf_u'^2$, $F \coloneqq \vf_u' \vf_v'$, $G = \vf_v'^2$.
В чем удобство? Эта штука определяется только поверхностью.

Теперь длина принимает вид
\[\frac{d\vf}{dt} = \sqrt{E u'^2 + 2Fu'v' + Gv'^2}\]
\begin{definition}[Первая квадратичная форма поверхности]
    \[Eu'^2 + 2F u'v' + G v'^2 = \fff(u',v')\]
\end{definition}
\begin{theorem}
    Длина кривой
    \[L = \int_{t_0}^{t_1} \sqrt{\fff(u', v')} dt\]
\end{theorem}
\begin{theorem}
    Угол между кривыми $(u_1, v_1)$ и $(u_2, v_2)$, где
    $u_1(t), v_1(t), u_2(\tau), v_2(\tau)$ -- функции.
    \[\cos\angle = \frac{Eu_1' u_2' + F(u_1' v_2' + u_2' v_1') + G v_1' v_2'}{\sqrt{\fff(u_1', v_1')\fff(u_2', v_2')}} = \frac{\vf_t' \vf_\tau '}{|\vf_t'| |\vf_\tau'|}\]
\end{theorem}

Что такое $E, F, G$?
\begin{center}
    \import{figures/}{EFG.pdf_tex}
\end{center}
$E = |\vf_u'|^2$ и $G = |\vf_v'|^2$ -- длины соответствующих касательных векторов, а
$F = \vf_u' \vf_v'$ -- мера непрямоугольности системы координат.

Хотим решить задачу: как нарисовать карту без искажений? \marginpar{10.10.22}
(в том смысле, что если, например, мы рисует карту горной местности, то мы теряем высоты)
Пусть у нас есть 2 поверхности:
\begin{center}
    \import{figures}{isometry_introduction.pdf_tex}
\end{center}
\begin{itemize}
    \item Что означает, что мы рисуем карту одной поверхности на другой поверхности?
          Это означает, что мы просто задаем отображение $\vf$ из одной поверхности в другую.
    \item Что означает без искажений?
          Если кривая имела определенную длину на первой поверхности, то ее образ будет иметь такую же длину на второй поверхности.
\end{itemize}
ИЛИ $\vf$ -- изометрия, если $\vf$ сохраняет длины кривых.

А что происходит с углами? Сохраняются ли они?
Проведем еще кривую и построим ее образ, длины сохранятся.
Допустим, что не сохраняются углы.
Около точки пересечения положим кривую соединяющую близкие точки и ее образ.
Если один угол меньше другого, то длина ее будет меньше в одной поверхности чем в другой.
(это не строгое доказательство, а объяснение почему сохраняются углы)

Если две поверхности изометричны, то они в некотором смысле не отличаются друг от друга.

Внутренняя геометрия поверхности -- характеристики, которые сохраняются при изометрии.

Есть область $\fancyD$, $\vf, \vg: \fancyD \to \R^3$.
Введем отображение $h: \vg(x,y) = h(\vf(x,y))$.
\begin{center}
    \import{figures}{surface_isometry.pdf_tex}
\end{center}
\begin{theorem}
    При введенных обозначениях, $h$ -- изометрия $\Leftrightarrow$ у двух поверхностей совпадают коэффициенты $E,F,G$.
\end{theorem}
\begin{proof}
    $\Leftarrow$: Вспомним длину кривой
    \[L = \int_{t_0}^{t_1} \sqrt{E \phi_1'^2 + 2 F \phi_1' \phi_2' +G \phi_2'^2} dt\]
    Если совпадают $E,F,G$, то длина кривых тоже

    $\Rightarrow$: Пусть $E_1, G_1, F_1$ -- коэффициенты первой плоскости, $E_2, G_2, F_2$ -- коэффициенты второй плоскости, а так же $\phi_1(t) = t, \phi_2(t) = c$, тогда
    \begin{gather*}
        L_1 = \int_{t_0}^{t_1} \sqrt{E_1\cdot 1 + 2F_1 \cdot 1 \cdot 0 + G \cdot 0} dt = \int_{t_0}^{t_1} \sqrt{E_1} dt\\
        L_2 = \int_{t_0}^{t_1} \sqrt{E_2} dt\\
        \intertext{и по изометрии $L_1 = L_2$}
        \frac{d}{dt_1} \int_{t_0}^{t_1} \sqrt{E_1} dt = \frac{d}{dt_1}\int_{t_0}^{t_1} \sqrt{E_2} dt\\
        \sqrt{E_1} = \sqrt{E_2}\\
        E_1 = E_2
    \end{gather*}

    Аналогично, пусть $\phi_1(t) = c, \phi_2(t) = t$, тогда $G_1 = G_2$.

    Далее возьмем кривую $\phi_1(t) = t + c_1, \phi_2(t) = t + c_2$
    \begin{gather*}
        \int_{t_0}^{t_1} \sqrt{E_1 + 2F_1 + G_1} dt = \int_{t_0}^{t_1} \sqrt{E_2 + 2F_2 + G_2} dt \\
        F_1 = F_2
    \end{gather*}
\end{proof}
\begin{remark}
    Если первые квадратичные формы разные, то из этого не следует, что поверхности не изометричны.
\end{remark}
\begin{example}
    Плоскость $z = 0$:
    \[\begin{cases}
            x = u \\
            y = v \\
            z = 0
        \end{cases}\]

    Как посчитать первую квадратичную форму?
    \begin{gather*}
        E = \left( \frac{\partial x}{\partial u}\right)^2 + \left(\frac{\partial y}{\partial u}\right)^2 + \left(\frac{\partial z}{\partial u}\right)^2 =1 \\
        F = \frac{\partial x}{\partial u}\frac{\partial x}{\partial v} +\frac{\partial y}{\partial u}\frac{\partial y}{\partial v} + \frac{\partial z}{\partial u}\frac{\partial z}{\partial v} = 0\\
        G = \left( \frac{\partial x}{\partial v}\right)^2 + \left(\frac{\partial y}{\partial v}\right)^2 + \left(\frac{\partial z}{\partial v}\right)^2 =1
    \end{gather*}
    и первая квадратичная форма: $du^2 + dv^2$.
\end{example}
\begin{example}
    А теперь зададим эту же плоскость в полярных координатах:
    \[\begin{cases}
            x = u \cos v \\
            y = u \sin v \\
            z = 0
        \end{cases}\qquad
        \begin{aligned}
            E & = \cos^2 v + \sin^2 v = 1                   \\
            F & = \cos v (-u \sin v) + \sin v (u\cos v) = 0 \\
            G & = u^2 \sin^2v + u^2 \cos^2 v = u^2
        \end{aligned}\]
\end{example}
Задали одну и ту же поверхность разными способами, а получили разные коэффициенты, почему так?
Первая параметризация задает координатные линии на плоскости (лист бумаги в клетку),
где $E$ и $G$ квадраты скорости при движении по соответствующим координатным линиям, а $F$ -- мера непрямоугольности, она равна 0, действительно у нас прямоугольная система.
В полярных координатах сетка -- лучи из полюса и окружности, пересекающие их.
Относительно лучей идем со скоростью 1, а по окружностям идем равномерно со скоростью $R=u$, а $G$ соответствующий квадрат скорости.
Самый простой пример одной и той же поверхности, но с разными квадратичными формами.
\end{document}