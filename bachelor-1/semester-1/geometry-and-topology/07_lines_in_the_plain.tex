% !TeX root = ./main.tex
\documentclass[main]{subfiles}
\begin{document}

\chapter{Прямые на плоскости}

Есть пространство $V; \dim V =2$, и ассоциированное с ним точечное пространство $E$,
т.е. $E$ -- плоскость
\begin{definition}
    Есть $e_0 \in V$ и $\vn \in V$. Тогда прямая в $E$ -- геометрическое место точек $e$,
    таких что  $\overrightarrow{e_0 e} \perp \vn$
\end{definition}

\begin{theorem}
    В стандартных координатах прямая задается стандартным линейным уравнением:
    $ax+by+c =0$, где координаты $e = (x,y)$, а координаты $(a,b) = \vn$.

    Или $\vn \cdot \overrightarrow{Oe} = -c$ ($c$ -- константа).

    Точка $O$ имеет координаты $(0,0)$, а $e_0 = (x_0, y_0); e = (x,y)$
    \begin{gather*}
        \overrightarrow{e_0 e} \perp \vn \qquad ((x-x_0); (y-y_0)) \cdot (a,b)=0\\
        (x-x_0)a + (y-y_0)b=0\\
        ax + by - ax_0 -by_0 = 0\text{, где } -ax_0 - by_0 = c
    \end{gather*}

    Наоборот: любое уравнение $ax+by+c = 0$ (если $a^2 + b^2 \neq 0$)
    задает прямую
\end{theorem}

\begin{definition}
    $(a,b) = \vn$ называется вектором нормали к прямой
    \begin{gather*}
        ax+by+c=0 \qquad |:\sqrt{a^2 + b^2}\\
        a'x+b'y +c' = 0 \text{ -- Нормальное уравнение прямой}\\
        a'^2 + b'^2 = 1 \qquad a' = \frac{a}{\sqrt{a^2 + b^2}} \qquad b' = \frac{b}{\sqrt{a^2 + b^2}}\\
        (a', b')\text{ -- единичный вектор }
    \end{gather*}
\end{definition}

\begin{theorem}
    \begin{enumerate}
        \item $|c'|$ -- расстояние от начала координат до прямой.
        \item Расстояние от точки $(x_1, y_1)$ до прямой $ax+by+c=0$ -- это
              \[d = \frac{|ax_1 + by_1 +c|}{\sqrt{a^2 + b^2}}\]
    \end{enumerate}
\end{theorem}
\begin{proof}
    1 -- частный случай 2, но докажем сперва 1.

    \begin{tikzpicture}[scale=3]
        \draw[very thick, -Latex] (-0.3, 0) -- (1.5, 0) node(xline) [right] {$x$};
        \draw[very thick, -Latex] (0, -0.3) -- (0, 1.3) node(yline) [above] {$y$};
        \draw[blue] (-0.3, 1)node[above] {$l$} -- (1.3, -0.3);
        \draw[Latex-] ($(-0.3, 1)!(0,0)!(1.3, -0.3)$) node[above, left] {$\alpha \vn$} -- (0,0);
        \draw[shorten <=0.5cm, red, Latex-] ($(-0.3, 1)!(0,0)!(1.3, -0.3)$) --
        node[right] {$\vn$} (0,0);
    \end{tikzpicture}

    Если $|\vn| = 1 \implies |\alpha|$ -- искомое расстояние.
    \begin{gather*}
        \vn = (a', b') \qquad \alpha\vn = (\alpha a', \alpha b')\\
        a' \cdot \alpha a' + b' \cdot \alpha b' + c' = 0\\
        \alpha (a'^2 +b'^2) + c' = 0\\
        \alpha = - c' \qquad |\alpha| = |c'|
    \end{gather*}

    1.5. $ax + by +c =0$ -- такой вид прямой. Расстояние от 0 до $l$:
    \begin{gather*}
        |\vn| = 1 \qquad \vn = \left(\frac{a}{\sqrt{a^2 + b^2}};
        \frac{b}{\sqrt{a^2 + b^2}}\right)\\
        \alpha \vn \in l\\
        a\cdot \frac{\alpha a}{\sqrt{a^2 + b^2}}+ b \cdot \frac{\alpha b}{\sqrt{a^2 + b^2}}+c =0\\
        \alpha \frac{a^2 + b^2}{\sqrt{a^2 + b^2}} +c = 0\\
        \alpha = \frac{-c}{\sqrt{a^2 + b^2}} \qquad |\alpha| = \frac{|c|}{\sqrt{a^2 + b^2}}
    \end{gather*}

    2. Расстояние от $(x_1, y_1)$ до $l$
    \begin{gather*}
        \tilde{x} = x-x_1 \qquad \tilde{y}= y-y_1
        \intertext{В новых координатах точка $D$ -- начало координат}
        x = \tilde{x} + x_1 \qquad y = \tilde{y} + y_1\\
        ax+by+c =0\\
        a \tilde{x} + b \tilde{y} + ax_1 + by_1 + c = 0
    \end{gather*}
    Воспользуемся 1,5.:
    \[\text{dist}(D;e) = \frac{|\tilde{c}|}{\sqrt{a^2 +b^2}} = \frac{|ax_1 + by_1 +c|}{\sqrt{a^2 +b^2}}\]
\end{proof}

$(a', b')$ называют направляющими косинусами, т.к.
\begin{center}
    \begin{tikzpicture}[scale=3]
        \draw[very thick, -Latex] (-0.3, 0) -- (0.7, 0) node(xline) [right] {$x$};
        \draw[very thick, -Latex] (0, -0.3) -- (0, 0.7) node(yline) [above] {$y$};
        \draw[-Latex] (0,0)--(0.5, 0.3) node[right] {$\vn = (a', b')$};
        \draw (0.1, 0.2) node {$\beta$};
        \draw (0.2, 0.05) node {$\alpha$};
    \end{tikzpicture}
\end{center}
\begin{gather*}
    |\vn| = 1 \qquad a'^2 + b'^2 = 1\\
    a' = \cos \alpha\\
    b' = \sin \alpha = \cos \beta
\end{gather*}

Даны прямые $l_1, l_2$:
\begin{gather*}
    l_1: a_1x +b_1y + c_1 = 0\\
    l_2: a_2x +b_2y + c_2 = 0\\
    \angle(l_1, l_2) = \angle (\vn_1, \vn_2)\\
    \cos \angle(l_1, l_2) = \frac{a_1a_2+b_1b_2}{\sqrt{a_1^2 + b_1^2} + \sqrt{a_2^2 + b_2^2}}\\
    l_1 \perp l_2 \Leftrightarrow a_1 a_2 + b_1 b_2 = 0\\
    l_1 \parallel l_2 \Leftrightarrow \frac{a_1}{a_2} = \frac{b_1}{b_2}
\end{gather*}

\begin{definition}[Уравнение в отрезках]
    Если $a,b,c \neq 0$, то
    \[\frac{x}{p} + \frac{y}{q}=1\]
\end{definition}
$(p,0)$ и $(0,q)$ -- подходят:
\begin{center}
    \begin{tikzpicture}[scale=3]
        \draw[very thick, -Latex, name path=X] (-0.3, 0) -- (0.7, 0) node(xline) [right] {$x$};
        \draw[very thick, -Latex, name path=Y] (0, -0.3) -- (0, 0.7) node(yline) [above] {$y$};
        \draw[name path=L] (-0.1, 0.4) -- (0.5, -0.1);
        \draw[name intersections={of=X and L, by=p}](p) node[above right] {$(p,0)$};
        \draw[name intersections={of=Y and L, by=q}](q) node[right] {$(0,q)$};
        \draw (0, 0.2) node[left] {$q$};
        \draw (0.25, 0) node[below] {$p$};
    \end{tikzpicture}
\end{center}

\begin{definition}[Каноническое уравнение прямой]
    Если даны 2 точки: $(x_0, y_0); (x_1, y_1)$, тогда
    \[\frac{x-x_0}{x_1-x_0}= \frac{y-y_0}{y_1-y_0} \Leftrightarrow
        (x-x_0)(y_1-y_0) = (y-y_0)(x_1-x_0)\]
\end{definition}
\begin{remark}
    Может быть, что $x_1=x_0$ или $y_1 = y_0$, НО не одновременно,
    тогда один из знаменателей может быть $0$.
\end{remark}
\begin{example}
    \[\frac{x-1}{0}=\frac{y+2}{-1}\Leftrightarrow x = 1\]
\end{example}

\begin{definition}[Каноническое уравнение прямой]
    Если дана точка $(x_0, y_0)$ и вектор $\vv = (v_1, v_2)$, то
    \begin{gather*}
        x_1-x_0=v_1 \qquad y_1 -y_0 = v_2\\
        \frac{x-x_0}{v_1}=\frac{y-y_0}{v_2}
    \end{gather*}
    \begin{center}
        \begin{tikzpicture}
            \draw (0,0) -- (2,1);
            \fill [black] (0.5, 0.25) circle(1pt) node[below right] {$(x_0, y_0)$};
            \draw [very thick, -Latex] (0.5, 0.25) -- (1.5, 0.75) node[above left] {$(x_1, y_1)$};
            \draw  (1.5, 0.75) node[below] {$\vv$};
        \end{tikzpicture}
    \end{center}
\end{definition}
\begin{remark}
    Каноническое уравнение прямой задано не однозначно
    (точки можно менять точки и получать ту же самую прямую).
\end{remark}

\begin{definition}[Параметрическое уравнение прямой]
    \[
        \frac{x-x_0}{v_1}=\frac{y-y_0}{v_2} = t \Leftrightarrow
        \begin{cases}
            x = x_0 + v_1 t \\
            y = y_0 + v_2 t
        \end{cases}
    \]
\end{definition}

\begin{definition}
    $\vv = (v_1, v_2)$ -- направляющий вектор прямой.
\end{definition}
\begin{definition}[Угол между прямыми]
    \begin{gather*}
        l_1: \frac{x-x_0}{v_1}=\frac{y-y_0}{v_2} \qquad l_2: \frac{x-x_1}{w_1} = \frac{y-y_1}{w_2}\\
        \vv = (v_1, v_2) \qquad \vw = (w_1, w_2)\\
        \cos \angle(l_1, l_2) = \frac{v_1 w_1 + v_2 w_2}{\sqrt{v_1^2 + v_2^2}\sqrt{w_1^2 w_2^2}}\\
        l_1 \perp l_2 \Leftrightarrow v_1 w_1 + v_2 w_2 = 0\\
        l_1 \parallel l_2 \Leftrightarrow \frac{v_1}{w_1} = \frac{v_2}{w_2}
    \end{gather*}
\end{definition}

\end{document}