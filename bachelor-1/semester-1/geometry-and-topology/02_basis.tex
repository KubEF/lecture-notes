% !TeX root = ./main.tex
\documentclass[main]{subfiles}
\begin{document}
\chapter{Базис векторного пространства}
\begin{definition}
    Набор $\vv_1, \vv_2, ..., \vv_n$ называется порождающим для $V$,
    если $\forall \vw \in V \exists \alpha_1,..., \alpha_n : \vw =
        \alpha_1 \vv_1 + \alpha_2 \vv_2 + ... + \alpha_n \vv_n$
\end{definition}
\begin{prop}
    Если к порождающему набору прибавить вектор, то он останется порождающим.
    Если убрать векторы из непорождающего набора векторы, то набор останется непорождающим.
\end{prop}

\begin{definition}
    $\vv_1, \vv_2, ..., \vv_n$ называется базисом $V$, если этот набор ЛНЗ и порождающий.
\end{definition}
\begin{theorem}[О базисе]
    Следующие определения базиса равносильны:
    \begin{enumerate}
        \item ЛНЗ и  порождающий набор
        \item Минимальный порождающий набор (минимальный по включениям)
        \item Максимальный ЛНЗ набор (максимальный по включениям)
        \item Порождающий набор $\forall \vw \in V \exists! \alpha_1, ..., \alpha_2:
                  \vw = \alpha_1 \vv_1 + \alpha_2 \vv_2 + ... + \alpha_n \vv_n$
    \end{enumerate}
\end{theorem}
\begin{proof}
    Цепочка доказательств:

    \begin{center}
        \begin{tikzpicture}
            \node[draw, circle](first) at (0.5,0.5) {$1$};
            \node[draw, circle](second) at (2,1) {$2$};
            \node[draw, circle](fourth) at (3.5,0.5)  {$4$};
            \node[draw, circle](third) at  (2,0) {$3$};
            \draw[-Latex] (first) -- (second);
            \draw[-Latex] (second) -- (fourth);
            \draw[-Latex] (fourth) -- (third);
            \draw[-Latex] (third) -- (first);
        \end{tikzpicture}
    \end{center}

    $1 \to 2$. Дан $\vv_1, ..., \vv_n$ -- ЛНЗ и порождающий набор.
    Доказать, что он минимальный порождающий.

    Допустим, что $\vv_i$ выкинули, оставшийся набор остался порождающим
    $\implies \vv_i$ -- ЛК остальных $\implies$ ЛЗ $\qquad \contradiction$.

    $2 \to 4$. Дан $\vv_1, ..., \vv_n$ -- минимальный порождающий набор.
    Доказать $\vv_1, ..., \vv_n$ -- порождающий с единственностью коэффициентов.

    Допустим противное: $\alpha_1 \vv_1 + \alpha_2 \vv_2 + ... + \alpha_n \vv_n =
        \beta_1 \vv_1 + ... + \beta_n \vv_n$
    \begin{gather*}
        \alpha_i \neq \beta_i\\
        (\alpha_i - \beta_i)\vv_i = (\beta_1 - \alpha_1) \vv_1 + ...\text{ (без $i$-ого)}
        + (\beta_n - \alpha_n)\vv_n\\
        \vv_i = \frac{\beta_1 - \alpha_1}{\alpha_i - \beta_i} + ...\text{ (без $i$-ого)}
        + \frac{\beta_n - \alpha_n}{\alpha_i - \beta_i}
    \end{gather*}
    $\vv_i$ -- выкинем. В любой ЛК с $\vv_i$ заменим $\vv_i$ на выражение выше $\implies$
    набор порождающий. Значит без единственности коэффициентов получаем противоречие с дано

    $4 \to 3$. Дан $\vv_1, ..., \vv_n$ -- порождающий набор с единственностью коэффициентов.
    Доказать: $\vv_1, ..., \vv_n$ -- максимальный ЛНЗ (ЛНЗ уже доказана)

    Допустим противное: $\vv_1, \vv_2, ..., \vv_n; \vu$ --  ЛНЗ набор
    \[\vu= \alpha_1 \vv_1 + ... + \alpha_n \vv_n (\alpha_1, ... \alpha_n \exists!)
        \implies \vv_1, ..., \vv_n, \vu \text{ -- ЛЗ } \qquad \contradiction\]

    $3 \to 1$. Дан $\vv_1, ..., \vv_n$ -- максимальный ЛНЗ.
    Доказать $\vv_1, ..., \vv_n$ -- ЛНЗ и порождающий набор.
    \begin{align*}
        \forall \vw \in V  &                 &  & \vv_1, \vv_2, ..., \vv_n, \vw \text{ -- ЛЗ набор} \\
                           &                 &  & \alpha_1 \vv_1 + \alpha_2 \vv_2 + ...
        + \alpha_n \vv_n +\beta \vw = \zv                                                           \\
        \text{Если } \beta & = 0 \implies    &  & \alpha_1 \vv_1 + ... + \alpha_n \vv_n =\zv        \\
                           &                 &  & \text{не все коэффициенты } = 0 (\alpha_i \neq 0) \\
                           &                 &  & \implies \vv_1,..., \vv_n \text{ -- ЛЗ}           \\
        \beta              & \neq 0 \implies &  & \vw = - \frac{\alpha_1}{\beta} \vv_1
        - \frac{\alpha_2}{\beta} \vv_2 - ...  - \frac{\alpha_n}{\beta} \vv_n
    \end{align*}
\end{proof}

\begin{remark}
    Любую конечную порождающую систему можно сузить до базиса.
\end{remark}
\begin{remark}
    Если есть конечный порождающий набор, то любую ЛНЗ систему можно расширить
    до базиса.
\end{remark}

\begin{definition}
    Размерность пространства равна количеству элементов в базисе.
    (пока нет доказательств корректности)
\end{definition}

\begin{lemma}
    Система линейных уравнений: $(a_{ij} \in \R; x_i \in \R; 0 \in \R)$
    \begin{equation*}
        \begin{cases}
            a_{11} x_1 + a_{12}x_2 + ... + a_{1n} x_n = 0 \\
            a_{21} x_1 + a_{22}x_2 + ... + a_{2n} x_n = 0 \\
            ...                                           \\
            a_{k1} x_1 + a_{k2}x_2 + ... + a_{kn} x_n = 0 \\
        \end{cases}
    \end{equation*}
    Имеет ненулевые решения, если $n>k$.
\end{lemma}
\begin{proof}
    Индукция по $k$. База $k=1$:
    \begin{gather*}
        a_{11} x_1 + a_{12}x_2 + ... + a_{1n} x_n = 0\\
        \text{Пусть } a_{11} \neq 0 \implies x_1 = -\frac{a_{12}}{a_{11}}x_2
        -\frac{a_{13}}{a_{11}}x_3 - ... - -\frac{a_{1n}}{a_{11}}x_n\\
        \forall x_2,...,x_n: x_1 \text{ выражается через них}\\
        a_{11} = 0 \implies x_1 = 1; x_2=x_3=...=x_n=0
        \intertext{Переход}
        a_{11} x_1 + a_{12}x_2 + ... + a_{1n} x_n = 0\\
        \exists i: a_{1i} \neq 0 \text{, иначе выкинем предыдущее уравнение}\\
        x_i = -\frac{a_{11}}{a_{1i}}x_1 - ...\text{ (без $i$-ого)} - -\frac{a_{1n}}{a_{1i}}x_n
    \end{gather*}
    Подставим выраженное $x_i$ во все остальные уравнения.
    Уравнений на 1 меньше, переменных на 1 меньше.
\end{proof}
\begin{example}
    \begin{equation*}
        \begin{cases}
            x+y+z=0 \\
            x+y-z=0
        \end{cases}
        \implies z=0 \qquad x+y=0
    \end{equation*}
\end{example}

\begin{theorem}
    Если $\vv_1, ..., \vv_k$ и $\vw_1, ...,\vw_n$ базисы $\in V$, то $k=n$.
\end{theorem}
\begin{proof}
    $\vv_1, ..., \vv_n$ -- порождающая система.
    \begin{gather*}
        \vw_1 = a_{11} \vv_1 + a_{21} \vv_2  + a_{31} \vv_3 + ... + a_{k1} \vv_k \\
        \vw_2 = a_{12} \vv_1 + a_{22} \vv_2  + a_{32} \vv_3 + ... + a_{k2} \vv_k \\
        ...                                                            \\
        \vw_n = a_{1n} \vv_1 + a_{2n} \vv_2  + a_{3n} \vv_3 + ... + a_{kn} \vv_k \\
    \end{gather*}
    \begin{equation}\label{eq:star}
        x_1 \vw_1 + x_2 \vw_2 + ... + x_n \vw_n = \zv, x_i \in \R
    \end{equation}
    т.к. $\vw_1, ..., \vw_n$ -- ЛНЗ $\implies$ все $x_i=0$
    \begin{gather*}
        \begin{multlined}
            x_1 (a_{11} \vv_1 + a_{21} \vv_2 + ... + a_{k1} \vv_k) +
            x_2 (a_{12} \vv_1 + a_{22} \vv_2 + ... + a_{k2} \vv_k) \\
            + ... +
            x_n (a_{1n} \vv_1 + a_{2n} \vv_2 + ... + a_{kn} \vv_k) = \zv
        \end{multlined}\\
        \begin{multlined}
            \vv_1 (a_{11} x_1 + a_{12} x_2 + ... + a_{1n} x_n ) +
            \vv_2 (a_{21} x_1 + a_{22} x_2 + ... + a_{2n} x_n ) \\
            + ... +
            \vv_k (a_{k1} x_1 + a_{k2} x_2 + ... + a_{kn} x_n ) = \zv
        \end{multlined}
    \end{gather*}
    $\vv_1, \vv_2, ..., \vv_k$ -- ЛНЗ $\implies$ все коэффициенты равны 0.
    \[\begin{cases}
            a_{11} x_1 + a_{12} x_2 + ... + a_{1n}x_n = 0 \\
            a_{21} x_1 + a_{22} x_2 + ... + a_{2n}x_n = 0 \\
            ...                                           \\
            a_{k1} x_1 + a_{k2} x_2 + ... + a_{kn}x_n = 0
        \end{cases}\]
    Если $n>k \implies \exists$ ненулевые решения $\implies$ противоречие
    с \eqref{eq:star} и ЛНЗ $\vw_i \implies n \le k$. Аналогично $k \le n \implies n=k$.
\end{proof}

Если $\exists$ хотя бы один конечный базис, то все базисы будут равномощными.

\section{Координаты вектора в базисе}
Пусть $\vv_1, \vv_2, ..., \vv_n$ -- базис.
\[\forall \vw \in V \implies \exists ! \alpha_1, \alpha_2, ..., \alpha_n:
    \vw = \alpha_1 \vv_1 + ... + \alpha_n \vv_n\]
$\vw = (\alpha_1, \alpha_2, ..., \alpha_n)$ -- координаты $\vw$ в базисе $\{\vv_i\}_{i=1}^n$
\begin{gather*}
    \vv_1 = (1, 0, ..., 0)\\
    \vv_2 = (0, 1, ..., 0)\\
    ...\\
    \vv_n = (0, 0, ..., 1)
\end{gather*}
\end{document}